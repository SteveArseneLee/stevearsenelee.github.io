---
title:  "[BackEnd] Django-Model생성"
excerpt: "Model 생성"

categories: Django
  - 
tags:
  - [Programming, python, Backend]

toc: true
toc_sticky: true
 
date: 2021-08-24
last_modified_at: 2021-08-24
---
## Model 만들기(사용자)
M 계층은 Models
사용자 모델 만들기
사용자앱/models.py에 다음 내용 작성
```python
class Fcuser(models.Model):
    username = models.CharField(max_length=64, verbose_name='사용자명')
    password = models.CharField(max_length=64, verbose_name='비밀번호')
    register_dttm = models.DateTimeField(auto_now_add=True, verbose_name='등록시간')

    class Meta:
        db_table = 'fastcampus_fcuser'
```
모두 CharField로 선언해주었고
- max_length : 최대 길이
- verbose_name : 보이는 이름
- auto_now_add : 저장되는 시점을 저장

class Meta는 테이블명 지정을 위해 두었다.

프로젝트 내에 manage.py가 있는데```python3 manage.py makemigrations``` 여기에 해당 명령어를 통해 해당 앱(사용자앱)의 migrations 폴더 내에 initial.py를 생성 ```python3 manage.py migrate```

migrate를 하면 **db.sqlite3**이라는 데이터베이스 파일이 생성된다.
```shell
sqlite3 db.sqlite3
```
이제 sqlite3에 접속했으면 ```.tables```로 테이블들을 확인할 수 있다. ```.schema 테이블명```으로 어떤 형식으로 만들어져있는지 확인할 수 있고, ```.q```로 나갈수 있다.

파일의 내용을 변경했다면 ```python3 manage.py makemigrations```로 확인가능하다

```python3 manage.py runserver```를 통해 실행할 수 있다.
서버 실행 시 로그인계정이 없을텐데 이는 ```python3 manage.py createsuperuser```로 초기화시킨다.

**models.py**에
```python
def __str__(self):
  return self.username
```
위 함수는 class가 문자열로 변환됐을 때 어떻게 변환할지에 대한 내장함수임.
---
title:  "[Django] Django-회원가입 페이지 만들기"
excerpt: "회원가입 페이지"

categories:
  - Django
tags:
  - [Programming, python, Backend]

toc: true
toc_sticky: true
 
date: 2021-08-24
last_modified_at: 2021-08-24
---
## 회원가입 페이지 만들기
[Bootstrap](https://getbootstrap.com/docs/4.3/getting-started/introduction/)로 틀을 만들어 보겠다.

먼저 views.py로 가서 연결을 해준다.
```python
def register(request):
    return render(request, 'register.html')
```
로 위에서 생성한 register.html을 등록해준다.

프로젝트의 urls.py에 앱의 urls.py를 연결해주고
```python
from django.urls import path
from . import views
urlpatterns = [
    path('register/', views.register),
]
```
를 통해 해당 앱의 url들을 모아준다.

장고에선 꼭 써야하는 것이 있는데 **csrf_token**를 form 안에 써야한다. form은 데이터를 서버에 전달하는 것인데 크로스도메인을 막기 위해 암호화된 키를 숨기는 목적으로 위 코드를 쓴다.

view.py에서는
```python
def register(request):
    if request.method == 'GET':
        return render(request, 'register.html')
    elif request.method == 'POST':
        username = request.POST['username']
        password = request.POST['password']
        re_password = request.POST['re-password']
        
        fcuser = Fcuser(
            username = username,
            password = password
        )
        
        fcuser.save()
        
        return render(request, 'register.html')
```
로 만드는데 이때 method입력 방식에 따라 다르게 한다. 'POST'방식일 경우는 서버에 해당 정보를 저장하고, 'GET'방식일 경우에는 페이지를 출력한다.

views.py에서 password를 암호화하는 법 ```from django.contrib.auth.hashers import make_password```
로 암호화

models.py에서 모델을 변경하고 (ex> 이메일같은 새로운 속성 부여) ```python3 manage.py makemigrations```를 하면 옵션이 2가지가 뜬다.
1. Provide a one-off default now(will be set on all existing rows with a null value for this column)
2. Quit, and let me add a defulat in models.py

다음 중 1번을 택한다면 python창이 뜨고 거기에 기존 열에 넣을 값을 입력

[registers.html](https://github.com/SteveArseneLee/Django-Practice/blob/main/fc_community/fcuser/templates/register.html)